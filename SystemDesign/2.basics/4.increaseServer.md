### now after a few months app become a little more popular and more number of requests start to flow aws becomes very expensive?
- well we are using serverless server managed by AWS , it will have its own limitation , now from here we can do a few things , we can host our own server and manage on our own , or migrate to another cloud service provider , but now we dont want to such things , then there is another option , aws provide server compute , which you can buy for a year or so
- hence reserve entire instance for our company
- this enitre server belongs to fancytshirts.io
- AWS charges an yearly fees(discounted) for this (you have to make an upfront payment)
- where you can choose the size of server
- in this case you will be responisble for management of server(starting the server , stopping the server , deployment)
- you have created an api on this server , lets say t-shirt.com/purchase?id=33333&order_id=2423513
- this domain (tshirt.com) will be resolved to your server ip address and the endpoint will take it the function which is responsible for purchase

### how do we set up this server on the cloud 
- well we have server compute we can configure it anywhere we want, on aws, or google or azure
- while configuring they will what will be the size nano , small, large, xlarge, 2Xlargse , 4X large
- now after acquiring one of size things goes good for few and after that again load increase and we see server compute has increased , now you will again increase the size
- again load increases you increase server cpu and memory to 4xlarge now , this app is now scaling up

### problems if we keep purchasing bigger instances
- we are not able to reserve capacity efficiently for the year
- no availability for auto scaling hence leading to under utilized
- the instance is a single point of failure
- using a fleet of smaller servers instead of one large server provides more computation power in the same amount of money

- lets say we have 32 computers each giving 2 virtual machines which means we will have 64 parallel requests going through where as with 4x large machine we will get 32 virtual machines

- now that we have fleet of small servers somputing parallely

### What are the problems of having small servers
- Redirecting requests in case of crashes
- judiciously utilising all the resources available
- we need to evenly distribute the request to the server , lets say we have 3000 requests and 3 servers , then 1000 requests to each server 

### how can solve this problem 
- well we can use load balancer
- lets say we have kept one of the load balancer in us and few in india
- load balancer like AWS ELB will take care of all the requests , now lets say one of server crashes which was in US , now load balancer will redirect all the us request to indian server, this is all manged end to end by AWS ELB

### Load balancing comes with different algorithm 
- sateless and stateful


### statefull
- for every request we will have the mapping of it with the server which request will go to which server
- for example 0-1000 will go to server 1 , then 1001-2000 will go to server2
- algorithm example Least connections: so the reqeust goes to the server which has lesser nunmber of reqeusts

### stateless
- if we do the distribution without memory it will be stateless (example: round robin is stateless)
- in this case  routing logic is in the function nothing in memory
<img width="1085" height="606" alt="image" src="https://github.com/user-attachments/assets/7702d272-a6ad-4366-a912-176a17430b10" />

### having more number of server this is called horizontally scaling
### when you just increase the power of server this is basically called vertical scaling
