### Connector? Call server?
>- If you haven’t gone through the WhatsApp system design tutorial yet, now is a good
time because the components we will be using here are discussed in that article in
much greater detail. Now let us understand exactly how the whole video call will
take place with an example. Say U1 wants to initiate a call with U2 but U2 is offline.

>- In this case, you can decide how to let U1 know about U2 being unavailable. But
when U2 is online, a web socket handler will send a message to U2 that U1 wishes to
call them and if they want to accept. Whatever U2 decides will be communicated to
U1 using the same route. Now this whole connection between U1 and U2 via web
socket handler is a TCP connection. But for the video call, we need to move to a UDP
connection. So how do we establish a UDP connection between U1 and U2?

>- Well technically UDP is a connectionless protocol, as the public IP addresses of both
parties is the only thing required for this mode of communication. So when we say
“establishing a UDP connection”  we mean sharing the information to set up this UDP
connection i.e. each other's public IP address. This is where a connector comes in. A
connector’s job is to identify a user’s public IP address information. So U1 will get its
public IP from the connector, U2 will get its public IP from the connector and they
will share this information via web socket handler. Once they have each other’s
public IP address they can start sharing video messages.

#### But why do we even go through the whole process just to get the public IP address of the involved parties?
>- Because for communication over UDP you need a public IP address. Now if both the
users were on IPv6 it wouldn’t be a problem because they would already have a
public IP address and can share it. But a huge number of devices are still on IPv4. And
in IPv4 most of the devices will be connected to their router with a private IP address,
and probably their router will also be connected to a series of routers with a private
IP address which finally will be connected to the ISP router which will have a public IP
address. So ISPs public IP address along with whichever port U1 is connected on will
become U1’s public IP address that will be communicated to U2 via a connector.
