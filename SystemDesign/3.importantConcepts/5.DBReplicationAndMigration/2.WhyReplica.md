### Why do we need a replica
- why cant we have both primary , well when you get the write operation on primary and when you try to send these write operations to replica , it will fail becuase of the network partition
- or when you have two servers one server connected to one db and another server to another db , the a request for x = x+10 comes and another server send x = x-10 to another db
- now value of x will be different in both the dbs which one is correct is difficult to say , this causes **split brain problems** when two primaries , and both have different value of x

### Split Brain problem
- Multi Primary problem
- Auto reconcilation is very hard
- Manual reconcilation is slow
- Have an odd number of nodes

### Write amplification Problem  (problem that comes with replication)
- lets say we have one primary and 3 replicas , one update comes to db , it becomes 3+ 1write basically 4 writes
- now what if one of the replicas goes down , what will you do, we wait for it to comes up and hold the user request , then this increases the single point of failure
- if not hold and doesnt care of ack from replica then also you have to perform 4 writes which is basically increasing the number of writes
- which eventually puts load on the primary db Bandwidth
- choice b/w inconsistency and latency (you wait for all the db agree on value , take the majority of the node which agree on a value , ensure highly consistent)
- cluster architecture is an alternative, peer to peer architecture: where lets say we have 3 node , all the node agree on a value , how do they do that , they come to a consensus through a distributed mechanism like pax or raft, basically you want your system to agree on one value
