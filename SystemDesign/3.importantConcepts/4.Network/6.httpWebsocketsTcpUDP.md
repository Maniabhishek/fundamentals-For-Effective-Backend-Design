<img width=400 height=600 src="https://github.com/user-attachments/assets/83530b11-2c7f-4563-8cea-d5c1ea491fb5">

-  as in the image above we can see we need to see how reqeusts are being send from router to server
-  most common protocol is HTTP while communicating to server (most common for client to server)
-  can server send the request to the client , no even if it does and somehow findout the router ip address , router will not know where to redirect this request, then you need NAT here and client has to behave like a server
-  this becomes an issue when you want to send a message to client , hence http is not ideal for this case
-  hence Websockets is used for peer to peer communication
-  websocket is layer 7 protocol , application layer protocol, it gives functionality for peer to peer connection , both sender and receiver can send and receive the request
-  now it is no more request but it is the messages
    -  chat application requires presence , contact list management, instant messaging , these all can be provided by XMPP(Extensible Messaging and presence protocol) , which is an open XML technology for real time communication, which powers a wide range of application including instant messaging, presence and collaboration
- Websockets and HTTP both uses TCP internally 

### TCP
- well we saw , basic idea of protocol is to have language, address (routing) , behavioral(whether communication is completed or not)
- for example A sends a packet to B and B acknowledges it and send ack(1) then A send another packet 2 after geting the ack from B for 1 so TCP ensure the ordering of the packets
- it is very important in case of banking application what if + 10 then -20 comes to update the balance then any miss ordering can cause an issue 
- All the benefits of TCP are inherited by HTTP , guaranteed deliver, ordered delivery, retry in case of failure, so if A send request to B and B receive the request of +10 but not acknowledges it , then A again send the +10 request to B , then B again processes it and update to 30 and this time send ACK then A sends -20 reqeust to B now final left amount is 20 , which is wrong , so what we can do for the first time when it was sent we need to identify the request with some id and process once and not many times this is called idempotency , An idempotent method means that the result of a successful performed reqeust is independent of the number of times it is executed GET, PUT , DELETE, HEAD, OPTIONS are idempotent POST AND PATCH are non idempotent methods

### UDP (user datagram protocol)
- no acknowledgemnent
- used when you want real time deliver like real time video, broadcast
- TCP can also do but it will retry for failure hence TCP will be inefficient in this case
